<div class="front-page-block">
  <div class="front-page-block-image-link">

    <img src="<%= block.img_src %>">

    <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 1920 1287">
      <!-- Generator: Adobe Illustrator 29.1.0, SVG Export Plug-In . SVG Version: 2.1.0 Build 142)  -->
      <a href="https://your-flower-link.com">
        <g class="hover-group">
          <polygon class="st0" points="1367.63 800.07 1376.32 804.42 1377.77 813.11 1384.65 825.78 1384.65 838.09 1379.94 850.4 1379.94 857.64 1374.15 869.23 1373.42 906.52 1367.63 911.23 1359.66 911.23 1359.66 871.76 1357.13 861.99 1357.13 848.59 1348.44 838.09 1356.04 814.19 1360.75 800.07 1367.63 800.07" />
          <polygon class="st0" points="1414.7 805.5 1427.74 813.83 1427.74 827.23 1434.98 840.62 1434.98 863.8 1428.46 869.95 1427.01 877.92 1419.77 882.63 1430.27 906.16 1424.84 911.23 1417.6 911.23 1403.84 909.42 1406.37 876.11 1396.6 861.26 1404.56 827.59 1406.37 814.92 1414.7 805.5" />
          <text class="overlay-caption" x="1350" y="790" class="label">Photography</text>
        </g>
      </a>
    </svg>
  </div>
</div>

</div>
<script>
  window.addEventListener('load', () => {
    const scrollWrapper = document.querySelector('.front-page-block');
    const image = document.querySelector('.front-page-block-image-link img');
    const hint = document.querySelector('.scroll-hint');
    // Wait a short time to ensure image is loaded and dimensions are available
    if (image.complete) {

      centerImage();

    } else {
      image.onload = centerImage;
    }

    function centerImage() {

      const scrollAmount = (image.scrollWidth - scrollWrapper.clientWidth) / 2;
      scrollWrapper.scrollLeft = scrollAmount;
    }

    let scrollTimeout;

    scrollWrapper.addEventListener('scroll', () => {
      // Hide hint immediately on scroll
      hint.classList.add('hidden');

      // Clear any previous timeout
      clearTimeout(scrollTimeout);

      // Show it again after 1000ms of no scroll
      scrollTimeout = setTimeout(() => {
        hint.classList.remove('hidden');
      }, 200);
    });

    // window.addEventListener('scroll', () => {
    //   if (!isImageVisible()) {
    //     // Hide hint completely (remove from layout)
    //     hint.style.display = 'none';
    //   } else {
    //     // Show hint only if user is NOT scrolling horizontally
    //     hint.style.display = 'block';

    //   }
    // });

    // // Utility: check if image is visible in viewport vertically
    // function isImageVisible() {
    //   const rect = image.getBoundingClientRect();
    //   // Check if any part of image is inside viewport vertically
    //   return rect.bottom > 0 && rect.top < window.innerHeight;
    // }
  });
</script>

<style>
  .st0 {
    fill: transparent;
    stroke: #ff00ea;
    stroke-miterlimit: 20;
    transition: fill 0.3s ease, stroke 0.3s ease;
  }

  .overlay-caption {
    fill: #ff00ea;
    font-size: 32px;
  }

  .hover-group:hover .st0,
  .hover-group:hover text {
    fill: rgba(255, 255, 0, 0.3);
    /* Light yellow overlay */
    stroke: orange;
    stroke-width: 2;
    cursor: pointer;
  }
</style>